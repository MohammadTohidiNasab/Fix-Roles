@model Divar.Models.Advertisement

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ویرایش آگهی</title>
    <link rel="stylesheet" href="~/css/detail.css">
    <style>
        .form-center {
            max-width: 600px;
            margin: auto;
            text-align: center;
        }

        .input-large {
            width: 100%;
            margin: 10px auto;
            max-width: 800px;
        }

        .form-check {
            text-align: center;
        }

        .loader {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

            .loader .spinner {
                text-align: center;
                font-size: 1.5em;
                color: #333;
            }
    </style>
</head>
<body>

    <div class="loader" id="loader">
        <div class="spinner">در حال بارگذاری...</div>
    </div>

    <h2 class="text-center">ویرایش آگهی</h2>

    <form asp-action="Edit" method="post" class="form-center" enctype="multipart/form-data" onsubmit="showLoader()">
        <input type="hidden" asp-for="Id" />
        <div class="form-group">
            <label asp-for="Title" class="text-center">تیتر</label>
            <input asp-for="Title" class="form-control input-large" />
            <span asp-validation-for="Title" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Content" class="text-center">محتوای آگهی</label>
            <textarea asp-for="Content" class="form-control input-large"></textarea>
            <span asp-validation-for="Content" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Price" class="text-center">قیمت</label>
            <input asp-for="Price" class="form-control input-large" type="number" />
            <span asp-validation-for="Price" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label class="text-center">تصویر اصلی</label>
            <input type="file" name="newImageFile1" class="form-control-file" />
        </div>
        <div class="form-group">
            <label class="text-center">تصویر دوم</label>
            <input type="file" name="newImageFile2" class="form-control-file" />
        </div>
        <div class="form-group">
            <label class="text-center">تصویر سوم</label>
            <input type="file" name="newImageFile3" class="form-control-file" />
        </div>

        @if (Model.Category == Divar.Models.CategoryType.کتاب)
        {
            <div class="form-group">
                <label asp-for="BookAuthor" class="text-center">نویسنده کتاب</label>
                <input asp-for="BookAuthor" class="form-control input-large" />
                <span asp-validation-for="BookAuthor" class="text-danger"></span>
            </div>
        }
        @if (Model.Category == Divar.Models.CategoryType.خانه)
        {
            <div class="form-group">
                <label asp-for="HomeSize" class="text-center">اندازه خانه</label>
                <input asp-for="HomeSize" class="form-control input-large" />
                <span asp-validation-for="HomeSize" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="HomeAddress" class="text-center">آدرس خانه</label>
                <input asp-for="HomeAddress" class="form-control input-large" />
                <span asp-validation-for="HomeAddress" class="text-danger"></span>
            </div>
        }
        @if (Model.Category == Divar.Models.CategoryType.موبایل)
        {
            <div class="form-group">
                <label asp-for="MobileBrand" class="text-center">برند موبایل</label>
                <input asp-for="MobileBrand" class="form-control input-large" />
                <span asp-validation-for="MobileBrand" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="SimCardsNumber" class="text-center">تعداد سیم‌کارت‌ها</label>
                <input asp-for="SimCardsNumber" class="form-control input-large" />
                <span asp-validation-for="SimCardsNumber" class="text-danger"></span>
            </div>
        }
        @if (Model.Category == Divar.Models.CategoryType.ماشین)
        {
            <div class="form-group">
                <label asp-for="CarBrand" class="text-center">برند ماشین</label>
                <input asp-for="CarBrand" class="form-control input-large" />
                <span asp-validation-for="CarBrand" class="text-danger"></span>
            </div>
            <div class="form-group text-right">
                <label class="text-center">نوع گیربکس</label>
                <div class="form-check d-inline-flex align-items-center justify-content-center">
                    <label class="form-check-label" for="automatic" style="margin-right: 5px;">اتوماتیک</label>
                    <input class="form-check-input" type="radio" asp-for="GearboxType" value="true" id="automatic" style="margin-left: 5px;" />
                </div>
                <div class="form-check d-inline-flex align-items-center justify-content-center">
                    <label class="form-check-label" for="manual" style="margin-right: 5px;">دنده‌ای</label>
                    <input class="form-check-input" type="radio" asp-for="GearboxType" value="false" id="manual" style="margin-left: 5px;" />
                </div>
                <span asp-validation-for="GearboxType" class="text-danger"></span>
            </div>
        }

        <br />
        <div class="text-center">
            <button type="submit" class="btn btn-primary">ذخیره</button>
            <a asp-action="Index" class="btn btn-secondary">انصراف</a>
        </div>
    </form>

    <script>
        function showLoader() {
            const loader = document.getElementById('loader');
            loader.style.display = 'flex'; // نمایش لودر
        }
    </script>

</body>
</html>
